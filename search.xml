<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>原生JS实现无缝轮播图</title>
    <url>/archives/75b91cd4.html</url>
    <content><![CDATA[<h1 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a>第一部分</h1><p>现在不论是pc端还是移动端，里面很重要的一个特效就是<strong>轮播图</strong>，可以说是必不可少的。下面是html和css代码：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.box</span>&#123;</span></span><br><span class="line">            width: 490px;</span><br><span class="line">            height: 170px;</span><br><span class="line">            margin: 100px auto;</span><br><span class="line">            padding: 5px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.inner</span>&#123;</span></span><br><span class="line">            width: 490px;</span><br><span class="line">            height: 170px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br></pre></td></tr></table></figure>

<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> ul&#123;</span><br><span class="line">            width: 600%;/*无缝的关键是在第五张图后面放上第一张图，实际有六张图*/</span><br><span class="line">            list-style: none;</span><br><span class="line">            position: absolute;</span><br><span class="line">            left:0;</span><br><span class="line">        &#125;</span><br><span class="line">        li&#123;</span><br><span class="line">            float: left;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">        .square&#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            bottom: 8px;</span><br><span class="line">            right: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        .square span&#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            width: 16px;</span><br><span class="line">            height: 16px;</span><br><span class="line">            line-height: 16px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">            background-color: white;</span><br><span class="line">        &#125;</span><br><span class="line">        .square .cur&#123;</span><br><span class="line">            background-color: orange;</span><br><span class="line">            color: #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">        .arrow&#123;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">        .arrow span&#123;</span><br><span class="line">            width: 40px;</span><br><span class="line">            height: 40px;</span><br><span class="line">            line-height: 40px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            position: absolute;</span><br><span class="line">            margin-top: -20px;</span><br><span class="line">            background-color: rgb(0,0,0);</span><br><span class="line">            color: white;</span><br><span class="line">            font-family: &#x27;黑体&#x27;;</span><br><span class="line">            font-size: 30px;</span><br><span class="line">            border: 1px solid #fff;</span><br><span class="line">            opacity: 0.3;</span><br><span class="line">        &#125;</span><br><span class="line">        .arrow .left&#123;</span><br><span class="line">            left: 0;</span><br><span class="line">            top: 50%;</span><br><span class="line">        &#125;</span><br><span class="line">        .arrow .right&#123;</span><br><span class="line">            right: 0;</span><br><span class="line">            top: 50%;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> <span class="attr">id</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/01.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/02.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/03.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/04.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/05.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;square&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;cur&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;arrow&quot;</span> <span class="attr">id</span>=<span class="string">&quot;arrow&quot;</span>&gt;</span></span><br><span class="line">                &lt;span class=&quot;left&quot;&gt;&lt;&lt;/span&gt;</span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果图如下：<img src="/archives/lunbotu.png"></p>
<h1 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a>第二部分</h1><p>接下来就是用JavaScript代码来操作<strong>ul</strong>和右下角的小方块的<strong>高亮</strong>，主要利用<em>定时器</em>使ul的移动与小方块的高亮进行同步：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    	<span class="comment">//获取事件源及相关元素</span></span><br><span class="line">        <span class="keyword">var</span> inner=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;inner&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> ul=inner.children[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">var</span> spanArr=inner.children[<span class="number">1</span>].children;</span><br><span class="line">        <span class="keyword">var</span> innerWidth=inner.offsetWidth;</span><br><span class="line">        <span class="keyword">var</span> liNew=ul.children[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);</span><br><span class="line">        ul.appendChild(liNew);</span><br><span class="line">        <span class="keyword">var</span> ol=inner.children[<span class="number">0</span>].children;</span><br><span class="line">        <span class="keyword">var</span> key=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> square=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> box=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;arrow&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> arrow=box.children;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//点亮盒子（底下的小方块）</span></span><br><span class="line">        <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">var</span> i=<span class="number">0</span>;i&lt;spanArr.length;i++</span>)</span>&#123;</span><br><span class="line">            spanArr[i].index=i;</span><br><span class="line">            spanArr[i].onmouseover=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="comment">//排他思想</span></span><br><span class="line">                <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">var</span> j=<span class="number">0</span>;j&lt;spanArr.length;j++</span>)</span>&#123;</span><br><span class="line">                    spanArr[j].className=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">this</span>.className=<span class="string">&#x27;cur&#x27;</span>;</span><br><span class="line">                key=square=<span class="built_in">this</span>.index;</span><br><span class="line">                animate(ul,-<span class="built_in">this</span>.index*innerWidth);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//square ul的定时器</span></span><br><span class="line">        timer=<span class="built_in">setInterval</span>(fn,<span class="number">1000</span>);</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            key++</span><br><span class="line">            <span class="keyword">if</span> (key&gt;spanArr.length) &#123;</span><br><span class="line">                ul.style.left=<span class="number">0</span>;</span><br><span class="line">                key=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            animate(ul,-innerWidth*key);</span><br><span class="line">            square++</span><br><span class="line">            <span class="keyword">if</span> (square&gt;spanArr.length-<span class="number">1</span>) &#123;</span><br><span class="line">                square=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="title">for</span>(<span class="params">i=<span class="number">0</span>;i&lt;spanArr.length;i++</span>)</span>&#123;</span><br><span class="line">                spanArr[i].className=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            spanArr[square].className=<span class="string">&#x27;cur&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//鼠标移入移出</span></span><br><span class="line">        inner.onmouseover=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            box.style.display=<span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;</span><br><span class="line">        inner.onmouseout=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            box.style.display=<span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">            timer=<span class="built_in">setInterval</span>(fn,<span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">        <span class="comment">//左右切换</span></span><br><span class="line">        arrow[<span class="number">0</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            key--</span><br><span class="line">            <span class="keyword">if</span> (key&lt;<span class="number">0</span>) &#123;</span><br><span class="line">                ul.style.left=-innerWidth*(spanArr.length)+<span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                key=spanArr.length-<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            animate(ul,-innerWidth*key);</span><br><span class="line">            square--</span><br><span class="line">            <span class="keyword">if</span> (square&lt;<span class="number">0</span>) &#123;</span><br><span class="line">                square=spanArr.length-<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="title">for</span>(<span class="params">i=<span class="number">0</span>;i&lt;spanArr.length;i++</span>)</span>&#123;</span><br><span class="line">                spanArr[i].className=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            spanArr[square].className=<span class="string">&#x27;cur&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arrow[<span class="number">1</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            fn();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//已封装的图片动画</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">ele,target</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(ele.timer);</span><br><span class="line">            ele.timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">var</span> speed=target&gt;ele.offsetLeft?<span class="number">10</span>:-<span class="number">10</span>;</span><br><span class="line">                <span class="keyword">var</span> val=target-ele.offsetLeft;</span><br><span class="line">                ele.style.left=ele.offsetLeft+speed+<span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(val)&lt;=<span class="built_in">Math</span>.abs(speed))&#123;</span><br><span class="line">                    ele.style.left=target+<span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                    <span class="built_in">clearInterval</span>(ele.timer);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,<span class="number">10</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>





]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>python图书管理系统</title>
    <url>/archives/5158de64.html</url>
    <content><![CDATA[<h1 id="图书管理系统"><a href="#图书管理系统" class="headerlink" title="图书管理系统"></a>图书管理系统</h1><p>本程序是用python语言编写，主要涉及到python中库的调用、对数组和函数的灵活运用等知识，是一个简单的程序设计。功能有用户页面和后台管理员系统。</p>
<p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">books = [&#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;红楼梦&#x27;</span>, <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;	曹雪芹&#x27;</span>, <span class="string">&#x27;price&#x27;</span>: <span class="string">&#x27;19.9&#x27;</span>&#125;,</span><br><span class="line">         &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;西游记&#x27;</span>, <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;	吴承恩&#x27;</span>, <span class="string">&#x27;price&#x27;</span>: <span class="string">&#x27;29.9&#x27;</span>&#125;,</span><br><span class="line">         &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;三国演义&#x27;</span>, <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;罗贯中&#x27;</span>, <span class="string">&#x27;price&#x27;</span>: <span class="string">&#x27;39.9&#x27;</span>&#125;,</span><br><span class="line">         &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;水浒传&#x27;</span>, <span class="string">&#x27;author&#x27;</span>: <span class="string">&#x27;	施耐庵&#x27;</span>, <span class="string">&#x27;price&#x27;</span>: <span class="string">&#x27;49.9&#x27;</span>&#125;,</span><br><span class="line">         ]  <span class="comment"># 图书数据</span></span><br><span class="line"></span><br><span class="line">users = [&#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;admin1&#x27;</span>, <span class="string">&#x27;passwd&#x27;</span>: <span class="string">&#x27;123&#x27;</span>&#125;, &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;admin2&#x27;</span>, <span class="string">&#x27;passwd&#x27;</span>: <span class="string">&#x27;123&#x27;</span>&#125;,</span><br><span class="line">         &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;administrators&#x27;</span>, <span class="string">&#x27;passwd&#x27;</span>: <span class="string">&#x27;123&#x27;</span>&#125;]  <span class="comment"># 默认用户数据</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主菜单</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">menu</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;*&#x27;</span> * <span class="number">40</span>)</span><br><span class="line">    print(<span class="string">&#x27;    *****欢迎来到图书管理系统***** &#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;*&#x27;</span> * <span class="number">40</span>)</span><br><span class="line">    print(<span class="string">&#x27;    请输入你想要进行的操作：&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    1: 注册新用户：&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    2. 使用已注册的账号进行登陆：&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    3. 退出本系统&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注册页面</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sign_up</span>():</span></span><br><span class="line">    user_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的用户名：&#x27;</span>)</span><br><span class="line">    user_passwd = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的密码：&#x27;</span>)</span><br><span class="line">    user_passwd2 = <span class="built_in">input</span>(<span class="string">&#x27;请确认您的密码：&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> user_passwd == user_passwd2:</span><br><span class="line">        user = &#123;<span class="string">&#x27;name&#x27;</span>: user_name, <span class="string">&#x27;passwd&#x27;</span>: user_passwd&#125;</span><br><span class="line">        users.append(user)</span><br><span class="line">        print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        print(<span class="string">f&#x27;恭喜用户<span class="subst">&#123;user_name&#125;</span>,您已注册成功！&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;两次密码不一致，请重新输入&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 登陆页面</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    user_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的用户名：&#x27;</span>)</span><br><span class="line">    user_passwd = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的密码：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> users:</span><br><span class="line">        <span class="keyword">if</span> user_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> user_passwd == i[<span class="string">&#x27;passwd&#x27;</span>]:</span><br><span class="line">                print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">                time.sleep(<span class="number">1</span>)</span><br><span class="line">                print(<span class="string">&#x27;登陆成功！&#x27;</span>)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> user_name</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">&#x27;密码输入错误！&#x27;</span>)</span><br><span class="line">                login()</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该用户的信息！&#x27;</span>)</span><br><span class="line">        print(<span class="string">&#x27;请重试。&#x27;</span>)</span><br><span class="line">        login()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对用户与管理者的判断</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">while_user</span>(<span class="params">name</span>):</span></span><br><span class="line">    <span class="keyword">while</span> name:</span><br><span class="line">        <span class="keyword">if</span> name == <span class="string">&#x27;administrators&#x27;</span>:  <span class="comment"># 判断是否为管理者</span></span><br><span class="line">            manger()  <span class="comment"># 管理者页面</span></span><br><span class="line">            manger_n = <span class="built_in">input</span>()</span><br><span class="line">            <span class="keyword">if</span> manger_n == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                del_user()</span><br><span class="line">            <span class="keyword">elif</span> manger_n == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">                edit_user()</span><br><span class="line">            <span class="keyword">elif</span> manger_n == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">                look_user()</span><br><span class="line">            <span class="keyword">elif</span> manger_n == <span class="string">&#x27;4&#x27;</span>:</span><br><span class="line">                look_users()</span><br><span class="line">            <span class="keyword">elif</span> manger_n == <span class="string">&#x27;5&#x27;</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">&#x27;您的输入有误！&#x27;</span>)</span><br><span class="line">                print(<span class="string">&#x27;请再次输入：&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            user_menu(name)  <span class="comment"># 普通用户页面</span></span><br><span class="line">            user_n = <span class="built_in">input</span>()</span><br><span class="line">            <span class="keyword">if</span> user_n == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                add_book()</span><br><span class="line">            <span class="keyword">elif</span> user_n == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">                del_book()</span><br><span class="line">            <span class="keyword">elif</span> user_n == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">                edit_book()</span><br><span class="line">            <span class="keyword">elif</span> user_n == <span class="string">&#x27;4&#x27;</span>:</span><br><span class="line">                look_book()</span><br><span class="line">            <span class="keyword">elif</span> user_n == <span class="string">&#x27;5&#x27;</span>:</span><br><span class="line">                look_books()</span><br><span class="line">            <span class="keyword">elif</span> user_n == <span class="string">&#x27;6&#x27;</span>:</span><br><span class="line">                print(<span class="string">&#x27;您已退出系统！&#x27;</span>)</span><br><span class="line">                sys.exit(<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">&#x27;您的输入有误！&#x27;</span>)</span><br><span class="line">                print(<span class="string">&#x27;请再次输入：&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 管理者界面</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">manger</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;*&#x27;</span> * <span class="number">40</span>)</span><br><span class="line">    print(<span class="string">&#x27;    ***** 欢迎来到系统后台 ***** &#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;*&#x27;</span> * <span class="number">40</span>)</span><br><span class="line">    print(<span class="string">&#x27;请输入你想要进行的操作：&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;1. 删除一个用户&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;2. 修改用户密码&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;3. 查看一个用户信息&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;4. 查看全部用户信息&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;5. 退出后台系统&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除用户</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">del_user</span>():</span></span><br><span class="line">    user_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要删除的用户名：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> users:</span><br><span class="line">        <span class="keyword">if</span> user_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            <span class="keyword">del</span> users[index]</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">f&#x27;<span class="subst">&#123;user_name&#125;</span>的用户信息已被删除！&#x27;</span>)</span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该用户的信息！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改用户密码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">edit_user</span>():</span></span><br><span class="line">    user_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要修改密码的用户名：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> users:</span><br><span class="line">        <span class="keyword">if</span> user_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            new_user_passwd = <span class="built_in">input</span>(<span class="string">&#x27;请输入修改后的密码：&#x27;</span>)</span><br><span class="line">            i[<span class="string">&#x27;passwd&#x27;</span>]=new_user_passwd</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">f&#x27;已对用户<span class="subst">&#123;user_name&#125;</span>重新修改了密码！&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该用户的信息！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一个用户</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">look_user</span>():</span></span><br><span class="line">    user_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要查看的用户名：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> users:</span><br><span class="line">        <span class="keyword">if</span> user_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">&#x27;用户名\t密码\t&#x27;</span>)</span><br><span class="line">            print(<span class="string">&#x27;&#123;&#125;\t\t&#123;&#125;\t&#x27;</span> .<span class="built_in">format</span>(i[<span class="string">&#x27;name&#x27;</span>], i[<span class="string">&#x27;passwd&#x27;</span>]))</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该用户的信息！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看全部用户</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">look_users</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&#x27;用户名\t密码\t&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> users:</span><br><span class="line">        print(<span class="string">&#x27;&#123;&#125;\t\t&#123;&#125;\t&#x27;</span> .<span class="built_in">format</span>(i[<span class="string">&#x27;name&#x27;</span>], i[<span class="string">&#x27;passwd&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户界面</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_menu</span>(<span class="params">self</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;*&#x27;</span> * <span class="number">40</span>)</span><br><span class="line">    print(<span class="string">&#x27;    请输入你想要进行的操作：&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    1. 添加书籍&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    2. 删除书籍&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    3. 修改书籍信息&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    4. 查询单本书籍信息&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    5. 查询所有书籍信息&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;    6. 退出&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加书籍</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_book</span>():</span></span><br><span class="line">    book_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要添加书籍的名字：&#x27;</span>)</span><br><span class="line">    book_author = <span class="built_in">input</span>(<span class="string">&#x27;请输入要添加书籍的作者：&#x27;</span>)</span><br><span class="line">    book_price = <span class="built_in">input</span>(<span class="string">&#x27;请输入要添加书籍的价格：&#x27;</span>)</span><br><span class="line">    book = &#123;<span class="string">&#x27;name&#x27;</span>: book_name, <span class="string">&#x27;author&#x27;</span>: book_author, <span class="string">&#x27;price&#x27;</span>: book_price&#125;</span><br><span class="line">    books.append(book)</span><br><span class="line">    print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">f&#x27;<span class="subst">&#123;book_name&#125;</span>的书籍信息已成功添加！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除书籍</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">del_book</span>():</span></span><br><span class="line">    book_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要删除书籍的名字：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> books:</span><br><span class="line">        <span class="keyword">if</span> book_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            <span class="keyword">del</span> books[index]</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">f&#x27;<span class="subst">&#123;book_name&#125;</span>的书籍信息已成功删除！&#x27;</span>)</span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该书籍的信息！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改书籍</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">edit_book</span>():</span></span><br><span class="line">    book_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要修改书籍的名字：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> books:</span><br><span class="line">        <span class="keyword">if</span> book_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            new_book_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入修改后书籍的名字：&#x27;</span>)</span><br><span class="line">            new_book_author = <span class="built_in">input</span>(<span class="string">&#x27;请输入修改后书籍的作者：&#x27;</span>)</span><br><span class="line">            new_book_price = <span class="built_in">input</span>(<span class="string">&#x27;请输入修改后书籍的价格：&#x27;</span>)</span><br><span class="line">            i[<span class="string">&#x27;name&#x27;</span>]=new_book_name</span><br><span class="line">            i[<span class="string">&#x27;author&#x27;</span>]=new_book_author</span><br><span class="line">            i[<span class="string">&#x27;price&#x27;</span>]=new_book_price</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">f&#x27;<span class="subst">&#123;book_name&#125;</span>的书籍信息已完成修改！&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该书籍的信息！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一本书籍</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">look_book</span>():</span></span><br><span class="line">    book_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要查看书籍的名字：&#x27;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> books:</span><br><span class="line">        <span class="keyword">if</span> book_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">&#x27;书名\t\t作者\t价格\t&#x27;</span>)</span><br><span class="line">            print(<span class="string">&#x27;[&#123;&#125;]\t&#123;&#125;\t&#123;&#125;\t&#x27;</span>.<span class="built_in">format</span>(i[<span class="string">&#x27;name&#x27;</span>], i[<span class="string">&#x27;author&#x27;</span>], i[<span class="string">&#x27;price&#x27;</span>]))</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;未查到该书籍的信息！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看全部书籍</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">look_books</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&#x27;书名\t\t作者\t价格\t&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> books:</span><br><span class="line">        print(<span class="string">&#x27;[&#123;&#125;]\t&#123;&#125;\t&#123;&#125;\t&#x27;</span>.<span class="built_in">format</span>(i[<span class="string">&#x27;name&#x27;</span>], i[<span class="string">&#x27;author&#x27;</span>], i[<span class="string">&#x27;price&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 主函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># 循环菜单主页面</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        menu()  <span class="comment"># 主菜单页面</span></span><br><span class="line">        menu_n = <span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">if</span> menu_n == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            sign_up()</span><br><span class="line">        <span class="keyword">elif</span> menu_n == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            name = login()  <span class="comment"># 用户登陆后返回值name</span></span><br><span class="line"></span><br><span class="line">            while_user(name)  <span class="comment"># 用户与管理者判断</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> menu_n == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">            print(<span class="string">&#x27;请稍等。。。&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            print(<span class="string">&#x27;您已退出管理者功能！&#x27;</span>)</span><br><span class="line">            sys.exit(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&#x27;您的输入有误！&#x27;</span>)</span><br><span class="line">            print(<span class="string">&#x27;请再次输入：&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用主函数</span></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
</search>
